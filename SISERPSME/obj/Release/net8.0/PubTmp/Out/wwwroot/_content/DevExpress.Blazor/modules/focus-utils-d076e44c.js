import{k as t}from"./key-ffa272aa.js";import{t as e}from"./touch-6a322081.js";import{F as n}from"./constants-7c047c0d.js";import{d as o,r as s}from"./disposable-d2c2d283.js";import{L as r}from"./logicaltreehelper-39bf56ef.js";import"./_commonjsHelpers-41cdd1e7.js";import"./common-48ec40e2.js";import"./browser-3fc721b7.js";import"./layouthelper-b10d5065.js";import"./point-e4ec110e.js";const u="data-dx-focus-hidden";function i(t){t.setAttribute(u,"")}function c(t){t.removeAttribute(u)}function m(t){return null!==t.getAttribute(u)}function a(n){let o=n;function s(t){!("mousedown"===t.type&&0===t.detail)&&o&&r.containsElement(o,t.target)&&i(o)}function u(t){if(!o)return;const e=t.relatedTarget;e&&!r.containsElement(o,e)&&document.hasFocus()&&c(o)}function m(e){o&&t.KeyUtils.getEventKeyCode(e)===t.KeyCode.Tab&&c(o)}const a=document.documentElement;return a.addEventListener(e.TouchUtils.touchMouseDownEventName,s),o.addEventListener("keydown",m),o.addEventListener("focusout",u),()=>{a.removeEventListener(e.TouchUtils.touchMouseDownEventName,s),null==o||o.removeEventListener("keydown",m),null==o||o.removeEventListener("focusout",u),o=null}}function l(t){if(!t)return;o(t);const e=a(t);s(t,e)}function d(t){return null!==t&&t.matches(n)}function f(t){return null!==t&&null!==t.closest(n)}const p={initFocusHidingEvents:l};export{u as FocusHiddenAttributeName,i as addFocusHiddenAttribute,a as attachEventsForFocusHiding,m as containsFocusHiddenAttribute,p as default,f as hasClosestFocusableElement,l as initFocusHidingEvents,d as isFocusableElement,c as removeFocusHiddenAttribute};
